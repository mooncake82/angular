<div [@routerTransition]>
  <h2 class="text-muted">Ricerca Documenti</h2>

  <form #docsform="ngForm" (submit)="docsFilter(docsform)">
    <div class="row">
      <div class="col-lg-6">
        <div class="box box-primary">
          <div class="box-header">
            <h3 class="box-title">Canale - Fax - Pos</h3>
          </div>
          <div class="box-body">
            <div class="form-group">
              <label class="formz" for="canale">Seleziona Canale</label>
              <select class="form-control" ngModel name="canale" #mycanale="ngModel" id="canale">
                <optgroup *ngFor="let selectChannels of allParams">
                  <option *ngFor="let channelSelected of selectChannels.selectChannels" [ngValue]="channelSelected">{{ channelSelected.channelName }}</option>
                </optgroup>
              </select>
            </div>

            <div class="row">
              <div class="col-lg-4">
                <div class="form-group">
                  <label class="formz" for="contactMethod">Fax Mittente</label>
                  <select class="form-control" ngModel name="match" #mymatch="ngModel" id="match">
                    <optgroup *ngFor="let selectFaxes of allParams">
                      <option *ngFor="let faxSelected of selectFaxes.selectFaxes" [value]="faxSelected.id">{{ faxSelected.faxName }}</option>
                    </optgroup>
                  </select>
                </div>
              </div>
              <div class="col-lg-8">
                <div class="form-group">
                  <label class="formz" for="faxmittente">.</label>
                  <input ngModel name="faxmittente" #myfaxmittente="ngModel"
                  type="text" id="faxmittente" class="form-control" placeholder="+39">
                </div>
              </div>
            </div>

            <div class="form-group">
              <label class="formz" for="codicepos">Codice POS</label>
              <input type="text" class="form-control"
              ngModel name="codicepos" #mycodicepos="ngModel"
              id="codicepos" placeholder="Inserire codice pos">
            </div>

          </div>
        </div>

        <div class="box box-primary">
          <div class="box-header">
            <h3 class="box-title">Denominazione/Ragione Sociale</h3>
          </div>
          <div class="box-body">
            <div class="form-group">
              <label class="formz" for="comments">Inserire la Denominazione/Ragione Sociale del cliente da ricercare</label>
              <textarea name="name" id="comments" rows="6" cols="30" class="form-control"></textarea>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="box box-primary">
          <div class="box-header">
            <h3 class="box-title">Periodo di Ricerca</h3>
          </div>
          <div class="box-body">
            <div class="form-group">
              <div class="row">
                <div class="col-lg-4">
                  <label class="formz"><span>*</span>Data Fax (Da, a)</label>

                  <div class="input-group">
                    <span class="input-group-text" (click)="toggleDataPicker()">
                      <i class="fa fa-calendar"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" id="datepicker"
                  name="datepicker" #mydatepicker [(ngModel)]="calendar.placeHolder" value="{{ calendar.placeHolder }}" required>
                </div>

                <div class="col-lg-8">
                  <label class="formz">.</label>
                  <p>{{ calendar.placeHolder}}</p>
                </div>
              </div>
            </div>
            <!-- DateRange Picker -->
            <ngbd-datepicker-range (onDateSelected)="updateDateRange($event)" class="date-popup" [class.active]="isActive"></ngbd-datepicker-range>
            <input type="hidden" [(ngModel)]="calendar.start.startDate" name="startDate" id="startDate" value="">
            <input type="hidden" [(ngModel)]="calendar.end.endDate" name="endDate" id="endDate" value="">

            <!-- datetimepicker -->
            <div class="form-group">
              <div class="row">
                <div class="col-md-6">
                  <label class="formz" for="timepicker">Dalle ore:</label>
                  <ngb-timepicker id="timepicker-start" #mytimepickerstart name="timepicker-start" [seconds]="true" [(ngModel)]="calendar.start.time" [spinners]="spinners"></ngb-timepicker>
                </div>

                <div class="col-md-6">
                  <label class="formz" for="timepicker">Alle ore:</label>
                  <ngb-timepicker id="timepicker-end" #mytimepickerend name="timepicker-end" [seconds]="true" [(ngModel)]="calendar.end.time" [spinners]="spinners"></ngb-timepicker>
                </div>
              </div>
            </div>
          </div>
        </div>


        <div class="box box-primary">
          <div class="box-header">
            <h3 class="box-title">Cerca in:</h3>
          </div>
          <div class="box-body">
            <div class="form-group">
              <div *ngFor="let radiosBtns of allParams">
                <div class="radio" *ngFor="let radioSelected of radiosBtns.radiosBtns">
                  <input type="radio" ngModel name="docsoptions" #mydocsoptions="ngModel" id="docsoptions" [value]="radioSelected.id">
                  <label class="formz radioz">{{ radioSelected.radioName }}</label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <button class="btn btn-primary" [disabled]="!docsform.valid">Ricerca</button>

  </form>

  <!-- RESULTS -->
  <div class="row">
  .
  </div>

  <div class="box box-primary nope" id="table-one">
    <div class="box-header">
      <h2 class="title">Lista {{ titleResults }}</h2>
    </div>
    <div class="box-body">
      <table class="table">
        <thead class="thead">
          <tr>
            <th scope="col">name</th>
            <th scope="col">latinName</th>
            <th scope="col">family</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <tr *ngFor="let bird of limit">
              <th scope="row"><a [routerLink]="['/docs-list', bird.id]">{{ bird.name }}</a></th>
              <td>{{ bird.latinName }}</td>
              <td>{{ bird.family }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  <!-- table2 -->
  <div class="box box-primary nope" id="table-two">
    <div class="box-headers">
      <h2 class="title">Lista {{ titleResults }}</h2>
    </div>
    <div class="box-body">
      <table class="table">
      <thead class="thead">
        <tr>
          <th scope="col">id</th>
          <th scope="col">Title</th>
          <th scope="col">Completed</th>
          <th scope="col">userId</th>
        </tr>
      </thead>
      <tbody>
        <tr>
        <tr *ngFor="let pratica of limit">
          <th scope="row">{{pratica.id}}</th>
          <td>{{pratica.title}}</td>
          <td>{{pratica.completed}}</td>
          <td>{{pratica.userId}}</td>

        </tr>
      </tbody>
    </table>
    </div>
  </div>

<!-- Pager -->
  <div class="row">
    <div class="col-md-9"></div>
    <div class="col-md-3">
      <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">

          <li class="page-item" (click)="previousPage()">
            <a class="page-link" tabindex="-1" id="previous-btn">
              <i class="fa fa-backward"></i>
            </a>
          </li>

          <li class="page-item" (click)="nextPage()">
            <a class="page-link" tabindex="-1">
              <i class="fa fa-forward"></i>
            </a>
          </li>

        </ul>
      </nav>
    </div>
  </div>
</div>
